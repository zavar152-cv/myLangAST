grammar Example;
options {
    language=C;
    output=AST;
    ASTLabelType = pANTLR3_BASE_TREE;
}

prog
  : statement+ ;

statement
  : expr NEWLINE          -> expr
  | ID '=' expr NEWLINE   -> ^('=' ID expr)
  | NEWLINE               ->
  ;

expr
  : multExpr  ( '+'^ multExpr | '-'^ multExpr )*
  ; 

multExpr
  : atom ('*'^ atom )*
  ; 

atom 
  : INT 
  | ID 
  | '('! expr ')'!
  ;


ID  :   ('a'..'z'|'A'..'Z')+ ;
INT :   '0'..'9'+ ;
NEWLINE:'\r'? '\n' ;
WS  :   (' '|'\t')+ {SKIP();} ;